#
# Copyright (c) 2012 Krzysztof Jusiak (krzysztof at jusiak dot net)
#
# Distributed under the Boost Software License, Version 1.0.
# (See accompanying file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
#

import testing ;

project
    : requirements
      <library>../../../../../../tools/libboost_unit_test_framework.a/<link>static
      #<library>/boost/test//boost_unit_test_framework/<link>static
      <warnings>all
      <warnings-as-errors>on
      <cxxflags>-Wno-variadic-macros
      <toolset>gcc:<cxxflags>-Wno-multichar
      <toolset>clang:<cxxflags>-Wno-four-char-constants
      <define>DDI_FUNCTION_ARITY_LIMIT_SIZE=4
      <define>BOOST_TEST_MODULE=di_test
      <include>../../..
      <include>.
    ;

test-suite di-test
    : [ run aux/instance_ut.cpp ]
      [ run aux/explicit_value_ut.cpp ]
      [ run aux/dependency_ut.cpp ]
      [ run aux/make_plain_ut.cpp ]
      [ run aux/pool_ut.cpp ]
      #[ run detail/module_ut.cpp ]
      #[ run detail/converter_ut.cpp ]
      [ run detail/creator_ut.cpp ]
      [ run detail/visitor_ut.cpp ]
      [ run detail/binder_ut.cpp ]
      [ run policies/check_for_creation_ownership_ut.cpp ]
      [ run policies/check_for_circular_dependencies_ut.cpp ]
      [ run scopes/per_request_ut.cpp ]
      [ run scopes/singleton_ut.cpp ]
      [ run ctor_bracket_ut.cpp ]
      [ run ctor_va_args_ut.cpp ]
      [ run generic_module_ut.cpp ]
      [ run fusion_module_ut.cpp ]
      [ run injector_ut.cpp ]
      #[ run named_ut.cpp ]

      [ run detail/module_mt.cpp ]
      #[ run di_mt.cpp ]
    ;

